<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><-♥︎-<< Category Selection</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="img/favicon-4.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cascadia+Mono:ital,wght@0,200..700;1,200..700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Tenor+Sans&display=swap" rel="stylesheet">
</head>
<body>
    <div class="heart-border">  
            <div class="heart heart-top">♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎
            </div>
    </div>
    <div class="container">
        <!-- Type Selection Screen -->
        <div class="screen" id="type-screen">
            <div class="content">
                <h1>Choose a Category</h1>
                <p class="paragraph">Select one option to continue</p>
                <div class="type-options">
                    <div class="type-option" data-type="gift">
                         <div class="click-button" style="width: 160px; height: 80px; clip-path: polygon(
                                0% 85.43%, 0% 26.52%, 24.55% 21.38%, 11.25% 11.2%,
                                16.93% 2.8%, 28.83% 2.8%, 42.54% 15.5%, 47.68% 13.82%,
                                53.58% 15.5%, 62.47% 7.47%, 77.06% 0%, 86.84% 11.2%,
                                77.06% 21.38%, 100% 26.52%, 96.79% 85.43%, 51.43% 100%, 0% 85.43%
                                ); ">
                                <img src="img/option_img_gift.png" style="width: 158px; height: 78px;">
                            </div>
                         <h3 class="click-button type-option-name">Gift</h3>
                    </div>
                    <div class="type-option" data-type="letter">
                        <div class="click-button" style="width: 160px; height: 80px; clip-path: polygon( 0% 100%, 0% 0%, 100% 0%, 100% 100%, 0% 100%); ">
                            
                            <img src="img/option_img_letter.png" style="width: 158px; height: 78px;">
                        </div>
                        <h3 class="click-button type-option-name">Letter</h3>
                    </div>
                    <div class="type-option" data-type="activity">
                        <div class="click-button" style="width: 160px; height: 80px; clip-path: polygon(21.72% 6.37%, 14.96% 23.84%, 9.12% 30.36%, 11.94% 32.55%, 0.00% 55.48%, 1.84% 58.74%, 2.5% 60.01%, 16.34% 34.18%, 17.61% 40.19%, 17.98% 53.64%, 23.88% 64.75%, 19.42% 74.02%, 11.94% 93.07%, 0.00% 94.55%, 14.96% 100.00%, 30.64% 74.02%, 43.31% 90.02%, 38.12% 95.62%, 40.75% 97.45%, 51.51% 91.02%, 33.92% 66.73%, 40.75% 53.64%, 36.43% 39.07%, 38.12% 31.28%, 50.07% 50.53%, 47.77% 55.48%, 51.51% 58.74%, 55.45% 55.48%, 53.15% 50.53%, 61.35% 37.09%, 63.19% 53.64%, 69.03% 61.79%, 63.19% 70.56%, 64.37% 75.45%, 55.45% 93.07%, 45.87% 94.55%, 61.35% 98.37%, 73.29% 73.26%, 76.77% 70.56%, 90.35% 91.09%, 83.79% 95.62%, 85.24% 98.45%, 100.00% 91.09%, 79.86% 60.01%, 85.24% 52.01%, 83.79% 40.19%, 84.78% 33.39%, 90.35% 40.22%, 90.35% 54.22%, 87.34% 58.74%, 90.35% 61.79%, 94.55% 58.74%, 94.55% 36.74%, 84.78% 19.61%, 76.77% 17.47%, 73.29% 11.82%, 74.48% 3.26%, 67.19% 0.00%, 59.25% 3.26%, 61.35% 14.37%, 65.35% 14.37%, 65.35% 17.37%, 59.25% 19.61%, 56.89% 31.28%, 50.07% 44.01%, 40.75% 23.84%, 31.56% 18.54%, 33.92% 12.74%, 29.92% 6.37%, 29.92% 6.37%);">
                                <img src="img/option_img_activity.png" style="width: 158px; height: 78px;">
                            </div>
                        <h3 class="click-button type-option-name">Activity</h3>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <div class="back-btn-wrap">
                        <img src="img/back-button-shadow.png" alt="Back button shadow">
                        <button class="back-btn" id="type-back-btn">Back</button>
                    </div>
                    <div class="next-btn-wrap">
                        <img src="img/next-button-shadow.png" alt="Next button shadow">
                        <button class="next-btn" id="type-next-btn" disabled>Next</button>
                    </div>
                </div>
            </div>
            <div class="decoration decoration-3"></div>
        </div>
    </div>
    <div class="heart-border">
        <div class="heart heart-bottom">♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we have a name stored
            const receiverName = localStorage.getItem('receiverName');
            if (!receiverName) {
                // If no name is stored, go back to the first page
                window.location.href = 'index.html';
                return;
            }
            
            const typeOptions = document.querySelectorAll('.type-option');
            const typeNextBtn = document.getElementById('type-next-btn');
            const typeBackBtn = document.getElementById('type-back-btn');
            const nextBtnWrap = document.querySelector('.next-btn-wrap');
            
            let selectedType = '';
            
            // Function to update button shadow visibility
            function updateButtonShadow() {
                const shadowImg = nextBtnWrap.querySelector('img');
                if (typeNextBtn.disabled) {
                    shadowImg.style.opacity = '0';
                } else {
                    shadowImg.style.opacity = '1';
                }
            }
            
            // Function to select an option
            function selectOption(option) {
                // Remove selected class from all options
                typeOptions.forEach(opt => {
                    const imageBtn = opt.querySelector('.click-button:not(.type-option-name)');
                    const textBtn = opt.querySelector('.type-option-name');
                    imageBtn.classList.remove('selected');
                    textBtn.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                const imageBtn = option.querySelector('.click-button:not(.type-option-name)');
                const textBtn = option.querySelector('.type-option-name');
                imageBtn.classList.add('selected');
                textBtn.classList.add('selected');
                
                // Enable next button
                typeNextBtn.disabled = false;
                updateButtonShadow();
                
                // Store selected type
                selectedType = option.getAttribute('data-type');
            }
            
            // Initial shadow state
            updateButtonShadow();
            
            typeOptions.forEach(option => {
                const imageClickButton = option.querySelector('.click-button:not(.type-option-name)');
                const textClickButton = option.querySelector('.type-option-name');
                
                // Add event listener to image button
                imageClickButton.addEventListener('click', function() {
                    selectOption(option);
                });
                
                // Add event listener to text button
                textClickButton.addEventListener('click', function() {
                    selectOption(option);
                });
            });
            
            typeBackBtn.addEventListener('click', function() {
                window.location.href = 'index.html';
            });
            
            typeNextBtn.addEventListener('click', function() {
                if (selectedType) {
                    // Store the selected type
                    localStorage.setItem('selectedType', selectedType);
                    // Navigate to the result page
                    window.location.href = 'verification.html';
                }
            });
        });
    </script>
</body>
</html>
