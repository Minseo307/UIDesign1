<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><-♥︎-<< Category Selection</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="img/favicon-4.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cascadia+Mono:ital,wght@0,200..700;1,200..700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Tenor+Sans&display=swap" rel="stylesheet">
</head>
<body>
    <div class="heart-border">  
            <div class="heart heart-top">♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎
            </div>
    </div>
    <div class="container">
        <!-- Type Selection Screen -->
        <div class="screen" id="type-screen">
            <div class="content">
                <h1>Choose a Category</h1>
                <p class="paragraph">Select one option to continue</p>
                <div class="type-options">
                    <div class="type-option" data-type="gift">
                         <div class="click-button" style="width: 130px; height: 88px; background: black; clip-path: polygon(18.24% 20.05%, 0% 25.19%, 0.32% 45.3%, 2.57% 46.77%, 2.9% 84.91%, 50.84% 100%, 96.88% 83.3%, 97.58% 46.06%, 100% 45.35%, 99.82% 24.82%, 80.82% 20.77%, 85.36% 13.59%, 74.87% 0%, 59.83% 6.44%, 53.63% 15.27%, 44.56% 15.27%, 32.88% 4.53%, 21.55% 0%, 15.45% 13.13%, 18.24% 20.05%);">
                                <img src="img/option_img_gift.svg" style="width: 127px; height: 75px">
                            </div>
                         <h3 class="click-button type-option-name">Gift</h3>
                    </div>
                    <div class="type-option" data-type="letter">
                        <div class="click-button" style="width: 136px; height: 88px; background: black; clip-path: clip-path: polygon(100% 0%, 0% 0%, 0% 100%, 100% 100%); ">
                            <img src="img/option_img_letter.svg" style="width: 127px; height: 75px">
                        </div>
                        <h3 class="click-button type-option-name">Letter</h3>
                    </div>
                    <div class="type-option" data-type="activity">
                        <div class="click-button" style="width: 142px; height: 88px; background: black; clip-path: polygon(45.52% 3.06%, 34.36% 0%, 25.99% 4.7%, 25.32% 9.8%, 25.88% 13.93%, 13.75% 20.59%, 8.13% 36.67%, 8.13% 60.26%, 14.56% 66.07%, 0% 86.67%, 4.67% 94.05%, 24.17% 96.08%, 45.22% 98.26%, 56.01% 94.51%, 66.68% 95.29%, 82.82% 100%, 100% 92.75%, 98.06% 83.53%, 88.09% 80.55%, 83.17% 66.66%, 87.86% 59.8%, 91.3% 64.13%, 97.58% 61.17%, 98.51% 51.96%, 88.96% 24.31%, 86.61% 21.76%, 80.23% 5.29%, 66.77% 6.08%, 62.75% 12.93%, 62.31% 19.21%, 57.39% 20.59%, 51.22% 35.08%, 46.15% 20.39%, 47.95% 14.24%, 45.52% 3.06%);">
                                <img src="img/option_img_activity.svg" style="width: 127px; height: 75px;">
                            </div>
                        <h3 class="click-button type-option-name">Activity</h3>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <div class="back-btn-wrap">
                        <img src="img/back-button-shadow.png" alt="Back button shadow">
                        <button class="back-btn" id="type-back-btn">Back</button>
                    </div>
                    <div class="next-btn-wrap">
                        <img src="img/next-button-shadow.png" alt="Next button shadow">
                        <button class="next-btn" id="type-next-btn" disabled>Next</button>
                    </div>
                </div>
            </div>
            <div class="decoration decoration-3"></div>
        </div>
    </div>
    <div class="heart-border">
        <div class="heart heart-bottom">♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎♥︎
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we have a name stored
            const receiverName = localStorage.getItem('receiverName');
            if (!receiverName) {
                // If no name is stored, go back to the first page
                window.location.href = 'index.html';
                return;
            }
            
            const typeOptions = document.querySelectorAll('.type-option');
            const typeNextBtn = document.getElementById('type-next-btn');
            const typeBackBtn = document.getElementById('type-back-btn');
            const nextBtnWrap = document.querySelector('.next-btn-wrap');
            
            let selectedType = '';
            
            // Function to update button shadow visibility
            function updateButtonShadow() {
                const shadowImg = nextBtnWrap.querySelector('img');
                if (typeNextBtn.disabled) {
                    shadowImg.style.opacity = '0';
                } else {
                    shadowImg.style.opacity = '1';
                }
            }
            
            // Function to select an option
            function selectOption(option) {
                // Remove selected class from all options
                typeOptions.forEach(opt => {
                    const imageBtn = opt.querySelector('.click-button:not(.type-option-name)');
                    const textBtn = opt.querySelector('.type-option-name');
                    imageBtn.classList.remove('selected');
                    textBtn.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                const imageBtn = option.querySelector('.click-button:not(.type-option-name)');
                const textBtn = option.querySelector('.type-option-name');
                imageBtn.classList.add('selected');
                textBtn.classList.add('selected');
                
                // Enable next button
                typeNextBtn.disabled = false;
                updateButtonShadow();
                
                // Store selected type
                selectedType = option.getAttribute('data-type');
            }
            
            // Initial shadow state
            updateButtonShadow();
            
            typeOptions.forEach(option => {
                const imageClickButton = option.querySelector('.click-button:not(.type-option-name)');
                const textClickButton = option.querySelector('.type-option-name');
                
                // Add event listener to image button
                imageClickButton.addEventListener('click', function() {
                    selectOption(option);
                });
                
                // Add event listener to text button
                textClickButton.addEventListener('click', function() {
                    selectOption(option);
                });
            });
            
            typeBackBtn.addEventListener('click', function() {
                window.location.href = 'index.html';
            });
            
            typeNextBtn.addEventListener('click', function() {
                if (selectedType) {
                    // Store the selected type
                    localStorage.setItem('selectedType', selectedType);
                    // Navigate to the result page
                    window.location.href = 'verification.html';
                }
            });
        });
    </script>
</body>
</html>
